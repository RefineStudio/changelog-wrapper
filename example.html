<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Changelog Example</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
  </head>
  <body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      const formatDate = (dateString) => {
        try {
          const date = new Date(dateString);
          if (isNaN(date.getTime())) {
            return dateString;
          }
          return date.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
          });
        } catch {
          return dateString;
        }
      };

      const Changelog = ({
        entries,
        theme = "light",
        display = "page",
        isOpen = true,
        onClose,
        className,
      }) => {
        const [internalOpen, setInternalOpen] = useState(true);
        const open = display === "modal" ? isOpen : internalOpen;

        const handleClose = () => {
          if (onClose) {
            onClose();
          } else {
            setInternalOpen(false);
          }
        };

        const Wrapper = ({ children }) =>
          React.createElement(
            "div",
            {
              className: `${theme === "dark" ? "dark" : ""} ${className || ""}`,
            },
            React.createElement(
              "div",
              {
                className:
                  "bg-white dark:bg-zinc-900 text-black dark:text-white min-h-0",
              },
              children
            )
          );

        const content = React.createElement(
          "div",
          { className: "space-y-6" },
          React.createElement(
            "div",
            {
              className:
                "sticky top-0 bg-white dark:bg-zinc-900 pb-4 border-b border-gray-200 dark:border-gray-700 mb-6",
            },
            React.createElement(
              "h1",
              {
                className:
                  "text-4xl font-bold text-gray-900 dark:text-white mb-4",
              },
              "Changelog"
            )
          ),
          React.createElement(
            "div",
            { className: "space-y-8" },
            entries.map((entry, index) =>
              React.createElement(
                "article",
                {
                  key: entry.id,
                  className: `relative ${
                    index !== entries.length - 1
                      ? "border-b border-gray-200 dark:border-gray-700 pb-8"
                      : ""
                  }`,
                },
                React.createElement(
                  "div",
                  {
                    className:
                      "flex flex-col sm:flex-row sm:items-start sm:space-x-4",
                  },
                  React.createElement(
                    "div",
                    { className: "flex-shrink-0 sm:w-32" },
                    React.createElement(
                      "time",
                      {
                        className:
                          "text-sm font-medium text-gray-500 dark:text-gray-400",
                      },
                      formatDate(entry.date)
                    )
                  ),
                  React.createElement(
                    "div",
                    { className: "flex-1 min-w-0 mt-2 sm:mt-0" },
                    React.createElement(
                      "h2",
                      {
                        className:
                          "text-xl font-semibold text-gray-900 dark:text-white mb-3",
                      },
                      entry.title
                    ),
                    React.createElement(
                      "div",
                      {
                        className:
                          "prose prose-sm dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 leading-relaxed",
                      },
                      entry.content
                    ),
                    entry.tags &&
                      entry.tags.length > 0 &&
                      React.createElement(
                        "div",
                        { className: "flex flex-wrap gap-2 mt-4" },
                        entry.tags.map((tag) =>
                          React.createElement(
                            "span",
                            {
                              key: tag,
                              className:
                                "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",
                            },
                            tag
                          )
                        )
                      )
                  )
                )
              )
            )
          ),
          entries.length === 0 &&
            React.createElement(
              "div",
              { className: "text-center py-12" },
              React.createElement(
                "p",
                { className: "text-gray-500 dark:text-gray-400" },
                "No changelog entries found."
              )
            )
        );

        if (display === "page") {
          return React.createElement(
            Wrapper,
            null,
            React.createElement(
              "div",
              { className: "max-w-4xl mx-auto p-6" },
              content
            )
          );
        }

        return React.createElement(
          Wrapper,
          null,
          React.createElement(
            "div",
            {
              className:
                "fixed inset-0 z-50 flex items-center justify-center p-4",
            },
            React.createElement("div", {
              className: "fixed inset-0 bg-black/30 backdrop-blur-sm",
              onClick: handleClose,
            }),
            React.createElement(
              "div",
              {
                className:
                  "bg-white dark:bg-zinc-900 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative",
              },
              React.createElement(
                "div",
                {
                  className:
                    "flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",
                },
                React.createElement(
                  "h2",
                  {
                    className:
                      "text-lg font-semibold text-gray-900 dark:text-white",
                  },
                  "Changelog"
                ),
                React.createElement(
                  "button",
                  {
                    onClick: handleClose,
                    className:
                      "text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",
                  },
                  React.createElement(
                    "svg",
                    {
                      className: "w-6 h-6",
                      fill: "none",
                      stroke: "currentColor",
                      viewBox: "0 0 24 24",
                    },
                    React.createElement("path", {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M6 18L18 6M6 6l12 12",
                    })
                  )
                )
              ),
              React.createElement(
                "div",
                { className: "flex-1 overflow-y-auto p-6" },
                React.createElement(
                  "div",
                  { className: "space-y-8" },
                  entries.map((entry, index) =>
                    React.createElement(
                      "article",
                      {
                        key: entry.id,
                        className: `relative ${
                          index !== entries.length - 1
                            ? "border-b border-gray-200 dark:border-gray-700 pb-8"
                            : ""
                        }`,
                      },
                      React.createElement(
                        "div",
                        {
                          className:
                            "flex flex-col sm:flex-row sm:items-start sm:space-x-4",
                        },
                        React.createElement(
                          "div",
                          { className: "flex-shrink-0 sm:w-32" },
                          React.createElement(
                            "time",
                            {
                              className:
                                "text-sm font-medium text-gray-500 dark:text-gray-400",
                            },
                            entry.date
                          )
                        ),
                        React.createElement(
                          "div",
                          { className: "flex-1 min-w-0 mt-2 sm:mt-0" },
                          React.createElement(
                            "h2",
                            {
                              className:
                                "text-xl font-semibold text-gray-900 dark:text-white mb-3",
                            },
                            entry.title
                          ),
                          React.createElement(
                            "div",
                            {
                              className:
                                "prose prose-sm dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 leading-relaxed",
                            },
                            entry.content
                          ),
                          entry.tags &&
                            entry.tags.length > 0 &&
                            React.createElement(
                              "div",
                              { className: "flex flex-wrap gap-2 mt-4" },
                              entry.tags.map((tag) =>
                                React.createElement(
                                  "span",
                                  {
                                    key: tag,
                                    className:
                                      "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",
                                  },
                                  tag
                                )
                              )
                            )
                        )
                      )
                    )
                  )
                )
              )
            )
          )
        );
      };

      const App = () => {
        const [theme, setTheme] = useState("light");
        const [display, setDisplay] = useState("page");
        const [showModal, setShowModal] = useState(false);

        const sampleEntries = [
          {
            id: "1",
            title: "New Export Functionality",
            date: "2025-06-12",
            content:
              "We added the ability to export data in multiple formats, including CSV, JSON, and PDF. This functionality provides greater flexibility in data usage.",
            tags: ["Feature", "Export"],
          },
          {
            id: "2",
            title: "Performance Improvements",
            date: "2025-05-28",
            content:
              "We optimized application loading, resulting in a 40% improvement in startup speed.",
            tags: ["Performance", "Optimization"],
          },
          {
            id: "3",
            title: "Critical Bug Fixes",
            date: "2025-05-15",
            content:
              "We fixed several bugs reported by users, including synchronization issues and validation errors.",
            tags: ["Bug Fix", "Correction"],
          },
        ];

        return React.createElement(
          "div",
          { className: "min-h-screen bg-gray-50 dark:bg-gray-900 p-8" },
          React.createElement(
            "div",
            { className: "max-w-6xl mx-auto" },
            React.createElement(
              "h1",
              {
                className:
                  "text-3xl font-bold text-center mb-8 text-gray-900 dark:text-white",
              },
              "Changelog Component Demo"
            ),

            React.createElement(
              "div",
              { className: "flex justify-center gap-4 mb-8" },
              React.createElement(
                "button",
                {
                  onClick: () => setTheme(theme === "light" ? "dark" : "light"),
                  className:
                    "px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",
                },
                `Switch to ${theme === "light" ? "Dark" : "Light"} Mode`
              ),

              React.createElement(
                "button",
                {
                  onClick: () =>
                    setDisplay(display === "page" ? "modal" : "page"),
                  className:
                    "px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",
                },
                `Switch to ${display === "page" ? "Modal" : "Page"}`
              ),

              display === "modal" &&
                React.createElement(
                  "button",
                  {
                    onClick: () => setShowModal(true),
                    className:
                      "px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600",
                  },
                  "Open Modal"
                )
            ),

            display === "page"
              ? React.createElement(Changelog, {
                  entries: sampleEntries,
                  theme: theme,
                  display: "page",
                })
              : showModal &&
                  React.createElement(Changelog, {
                    entries: sampleEntries,
                    theme: theme,
                    display: "modal",
                    isOpen: showModal,
                    onClose: () => setShowModal(false),
                  })
          )
        );
      };

      ReactDOM.render(
        React.createElement(App),
        document.getElementById("root")
      );
    </script>
  </body>
</html>
